(this["webpackJsonpleague-maps"]=this["webpackJsonpleague-maps"]||[]).push([[0],{208:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),o=a(12),s=a.n(o),i=(a(208),a(8)),l=c.a.createContext({}),d=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(n.jsx)(l.Provider,{value:{allPlayers:c,setAllPlayers:o},children:e.children})},u=a(19),p=a(16),b=a(15),j=a.n(b),f=a(23),g=["topg","turnovers","pFouls","pfpg","fga","tpa","fta","fgapg","tpapg","ftapg"],h=["seasonStageId","seasonYear"],m=["fppg","ppg","rpg","apg","topg","bpg","spg","fgmpg","tpmpg","ftmpg"],x=[].concat(m,["ppg","rpg","apg","mpg","topg","spg","bpg","tpp","ftp","fgp","assists","blocks","steals","turnovers","offReb","defReb","totReb","fgm","fga","tpm","tpa","ftm","fta","pFouls","points","gamesPlayed","gamesStarted","plusMinus","min","dd2","td3","seasonYear","seasonStageId"],["fgmpg","fgapg","tpmpg","tpapg","ftmpg","ftapg","pfpg","fppg"]).filter((function(e,t,a){return a.indexOf(e)===t&&!h.includes(e)})),O={ppg:1,rpg:1,apg:2,topg:-2,bpg:4,spg:4,fgmpg:2,tpmpg:1,fgapg:-1,ftapg:-1,ftmpg:1,mpg:0,tpp:0,ftp:0,fgp:0,assists:0,blocks:0,steals:0,turnovers:0,offReb:0,defReb:0,totReb:0,fgm:0,fga:0,tpm:0,tpa:0,ftm:0,fta:0,pFouls:0,points:0,gamesPlayed:0,gamesStarted:0,plusMinus:0,min:0,dd2:0,td3:0,tpapg:0,pfpg:0},v={ppg:"points per game",rpg:"rebounds per game",apg:"assists per game",mpg:"minutes per game",topg:"turnovers per game",spg:"steals per game",bpg:"blocks per game",tpp:"three point percentage",ftp:"free throw percentage",fgp:"field goal percentage",offReb:"offensive rebounds",defReb:"defensive rebounds",totReb:"total rebounds",fgm:"field goals made",fga:"field goals attempted",tpm:"three points made",tpa:"three points attempted",ftm:"free throws made",fta:"free throws attempted",pFouls:"personal fouls",min:"minutes",dd2:"double doubles",td3:"triple doubles",fgmpg:"field goals made per game",fgapg:"field goals attempted per game",tpmpg:"three points made per game",tpapg:"three points attempted per game",ftmpg:"free throws made per game",ftapg:"free throws attempted per game",pfpg:"personal fouls per game",scl:"stat category leads",fppg:"fantasy points per game"},w="#c8102e",y="#1d428a",k=function(){var e={};return x.forEach((function(t){return e[t]=0})),e},C=function(){var e=Object(f.a)(j.a.mark((function e(){var t,a,n,r,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:(new Date).getFullYear(),e.next=3,fetch("https://data.nba.net/prod/v1/".concat(a,"/players.json"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",null===(t=r.league)||void 0===t?void 0:t.standard);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(j.a.mark((function e(t){var a,n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(new Date).getFullYear();case 1:if(r&&r.ok){e.next=8;break}return e.next=4,fetch("https://data.nba.net/prod/v1/".concat(n,"/players/").concat(t,"_profile.json"));case 4:(r=e.sent).ok||n--,e.next=1;break;case 8:return e.next=10,r.json();case 10:return c=e.sent,console.log(c.league.standard),e.abrupt("return",null!==(a=c.league.standard)&&void 0!==a?a:{stats:{regularSeason:{season:[{total:k()}]}}});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){var a,n=null===(a=e.stats.regularSeason.season.find((function(e){return e.seasonYear===t})))||void 0===a?void 0:a.total;return null!==n&&void 0!==n?n:k()},F=function(e,t){if(!e.length)return k();var a={};return x.forEach((function(n){a[n]=e.map((function(e){return L(e,t)[n]})).reduce((function(e,t){return e+t}))})),a},T=function(e,t){var a=0;for(var n in e)"fppg"!==n&&(a+=e[n]*t[n]);e.fppg=a},N=function(e){var t={min:{},median:{},max:{}};return x.forEach((function(a){t.min[a]=Math.min.apply(Math,Object(u.a)(e.map((function(e){return e.stats[a]})))),t.median[a]=P(e.map((function(e){return e.stats[a]}))),t.max[a]=Math.max.apply(Math,Object(u.a)(e.map((function(e){return e.stats[a]}))))})),t},P=function(e){return e.sort((function(e,t){return e-t})),e.length%2?e[(e.length-1)/2]:M([e[e.length/2],e[e.length/2-1]])},M=function(e){return e.reduce((function(e,t){return e+t}))/e.length},I=function(e,t,a){return!(0===e&&!g.includes(t))&&(g.includes(t)?e===a.min[t]:e===a.max[t])},A=function(e){var t=JSON.parse(JSON.stringify(e)),a=t.latest,n=t.regularSeason.season;for(var r in a)"string"===typeof a[r]&&(a[r]="-1"!==a[r]?parseFloat(a[r]):0);for(var c in n)for(var o in n[c].total){var s=n[c].total[o];"string"===typeof s&&(n[c].total[o]="-1"!==s?parseFloat(s):0)}return t},Y=function(e){return Object(p.a)(Object(p.a)({},e),{},{fgmpg:e.fgm/e.gamesPlayed,fgapg:e.fga/e.gamesPlayed,tpmpg:e.tpm/e.gamesPlayed,tpapg:e.tpa/e.gamesPlayed,ftmpg:e.ftm/e.gamesPlayed,ftapg:e.fta/e.gamesPlayed,pfpg:e.pFouls/e.gamesPlayed})},z=c.a.createContext({}),R=function(e){var t=[{id:1,roster:[],stats:k(),color:"gray"},{id:2,roster:[],stats:k(),color:"gray"},{id:3,roster:[],stats:k(),color:"gray"},{id:4,roster:[],stats:k(),color:"gray"}],a={min:{},median:{},max:{}};x.forEach((function(e){a.min[e]=0,a.median[e]=0,a.max[e]=0}));var c={teamList:t,stats:a},o=Object(r.useState)(c),s=Object(i.a)(o,2),l=s[0],d=s[1];return Object(n.jsx)(z.Provider,{value:{league:l,setLeague:d,addTeam:function(){var e,t,a=l.teamList,n=[].concat(Object(u.a)(a),[{id:(null!==(e=null===(t=a[l.teamList.length-1])||void 0===t?void 0:t.id)&&void 0!==e?e:0)+1,roster:[],stats:k(),color:"gray"}]),r=N(n);d({teamList:n,stats:r})},removeTeam:function(e){var t=l.teamList.filter((function(t){return t.id!==e})),a=N(t);d({teamList:t,stats:a})},updateTeam:function(e){var t=l.teamList,a=e.id,n=t.findIndex((function(e){return e.id===a}));t[n]=e,d({teamList:t,stats:N(t)})}},children:e.children})},E=c.a.createContext({}),W=function(e){var t={};x.forEach((function(e){return t[e]=m.includes(e)}));var a=Object(r.useState)(t),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)((new Date).getFullYear()),d=Object(i.a)(l,2),u=d[0],p=d[1],b=Object(r.useState)(O),g=Object(i.a)(b,2),h=g[0],v=g[1];return Object(r.useEffect)((function(){Object(f.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u;case 1:if(a&&a.ok){e.next=8;break}return e.next=4,fetch("https://data.nba.net/prod/v1/".concat(t,"/players.json"));case 4:(a=e.sent).ok||t--,e.next=1;break;case 8:p(t);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(n.jsx)(E.Provider,{value:{selectedStats:o,selectedYear:u,setSelectedYear:p,setSelectedStats:s,statMultipliers:h,setStatMultipliers:v},children:e.children})},H=a(379),B=a(327),D=a(146),J=a.n(D),G=function(){var e=c.a.useContext(z).addTeam;return Object(n.jsx)(B.a,{onClick:function(){e()},style:{color:"#666666"},children:Object(n.jsx)(J.a,{})})},V=a(388),q=a(377),K=a(378),U=a(389),X=a(370),$=a(387),_=a(393),Q=a(163),Z=function(e){var t=e.id,a=Object(r.useContext)(z),c=a.league,o=a.updateTeam,s=c.teamList.find((function(e){return e.id===t})),l=s.color,d="Team ".concat(t),u=s.name,p=void 0===u?d:u,b=s.roster,j=Object(r.useState)(!1),f=Object(i.a)(j,2),g=f[0],h=f[1],m=Object(r.useState)(p),x=Object(i.a)(m,2),O=x[0],v=x[1],w=Object(r.useState)(!1),y=Object(i.a)(w,2),k=y[0],C=y[1],S=Object(r.useRef)(null),L=function(e){var t=e.target;v(t.value)},F=function(e){"Enter"===e.key&&S.current.blur()},T=function(){O.trim()||v(d),h(!1)};Object(r.useEffect)((function(){g?S.current.select():(s.name=O.trim(),o(s))}),[g]);return Object(n.jsxs)("div",{className:"teamLabelContainer",children:[Object(n.jsxs)("span",{className:"roster-size",children:["(",b.length,b.length>=15&&"*",")"]}),Object(n.jsx)(X.a,{onClickAway:function(){C(!1)},children:Object(n.jsx)($.a,{title:Object(n.jsx)(Q.a,{color:l,onChangeComplete:function(e){s.color=e.hex,o(s)}}),open:k,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,interactive:!0,children:Object(n.jsx)(_.a,{style:{backgroundColor:l,fill:"#fff",borderRadius:"20px",margin:"0px 4px 0px 0px",cursor:"pointer",height:28,width:28},onClick:function(){C(!0)}})})}),g?Object(n.jsx)(U.a,{size:"small",value:O,autoFocus:!0,onBlur:T,onChange:L,onKeyDown:F,inputProps:{ref:S}}):Object(n.jsx)("span",{className:"label",onClick:function(){h(!0)},children:p})]})},ee=a(374),te=a(375),ae=a(376),ne=a(372),re=a(373),ce=a(392),oe=a(371),se=a(14),ie=function(e,t,a){var n;return n={},Object(se.a)(n,"& ".concat(e),{overflowY:"scroll",height:null!==a&&void 0!==a?a:"auto"}),Object(se.a)(n,"& ".concat(e,"::-webkit-scrollbar"),{width:null!==t&&void 0!==t?t:4}),Object(se.a)(n,"& ".concat(e,"::-webkit-scrollbar-track"),{backgroundColor:"#0004",borderRadius:null!==t&&void 0!==t?t:2}),Object(se.a)(n,"& ".concat(e,"::-webkit-scrollbar-thumb"),{backgroundColor:"#FFFA",borderRadius:null!==t&&void 0!==t?t:2}),n},le=Object(oe.a)({root:{width:"60%","& .button-cell":{width:28},"& .no-stats ":{opacity:.25},"& .button-cell button":{height:"100%",width:"100%"},"& .headshot-cell":{width:28},"& .headshot":{height:28,width:28,backgroundColor:function(e){var t=e.teamColor;return null!==t&&void 0!==t?t:"lightgray"}},"& .mock-player-icon":{height:28,width:28,fill:"white",backgroundColor:function(e){var t=e.teamColor;return null!==t&&void 0!==t?t:"black"},borderRadius:"15px"},"& .name-cell":{width:"calc(100% - ".concat(28,"px - ").concat(28,"px - ").concat(6,"px)"),lineHeight:"32px",cursor:"default",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:6},"& .name-cell div":{width:"100%",height:"100%",overflow:"inherit",textOverflow:"inherit",whiteSpace:"nowrap",cursor:"pointer"}}}),de=Object(oe.a)({popper:Object(p.a)(Object(p.a)({"& .MuiTooltip-tooltip":{backgroundColor:"#fff",padding:0},"& .MuiFormLabel-root.Mui-focused":{color:y},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:y}},ie(".MuiList-root",8,200)),{},{"& .LazyLoad.odd":{backgroundColor:"#F0F0F0"},"& .LazyLoad.even":{backgroundColor:"#FAFAFA"},"& .MuiListItem-root":{color:"#000",height:40},"& .MuiListItem-root:hover, & .Mui-selected":{backgroundColor:"".concat(y," !important"),color:"#fff"}})}),ue=a(154),pe=a.n(ue),be=a(155),je=a.n(be),fe=a(369),ge=a(329),he=a(153),me=a.n(he),xe=function(e){var t=e.teamId,a=e.roster,c=e.addPlayer,o=Object(r.useContext)(l).allPlayers,s=Object(r.useState)(""),d=Object(i.a)(s,2),u=d[0],p=d[1],b=Object(r.useState)(o),j=Object(i.a)(b,2),f=j[0],g=j[1],h=Object(r.useState)(0),m=Object(i.a)(h,2),x=m[0],O=m[1],v=null===a||void 0===a?void 0:a.map((function(e){return e.personId})),w=Object(r.useRef)(null),y=40;Object(r.useEffect)((function(){g(o.filter((function(e){var t=e.firstName,a=e.lastName;return C(t,a)}))),O(0)}),[u]);var k=function(e){var t=e.currentTarget.dataset.personId;c(t,o),p("")},C=function(e,t){var a=u.toLowerCase(),n=e.toLowerCase(),r=t.toLowerCase();return n.startsWith(a)||r.startsWith(a)||"".concat(n," ").concat(r).startsWith(a)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(U.a,{type:"search",variant:"outlined",label:"Draft Player",value:u,onChange:function(e){var t=e.target.value;p(t)},onKeyDown:function(e){e.stopPropagation();var t=e.key;if("Enter"===t&&f.length){var a=f[x].personId;(null===v||void 0===v?void 0:v.includes(a))||(c(a,o),p(""))}else"ArrowDown"===t?(O(x<f.length-1?x+1:f.length-1),w.current.scrollTop=x*y+y):"ArrowUp"===t&&(O(x>0?x-1:0),w.current.scrollTop=x*y-y)},autoFocus:!0,focused:!0}),Object(n.jsx)(fe.a,{disablePadding:!0,ref:w,children:f.map((function(e,a){var r=e.personId,c=e.firstName,o=e.lastName;return Object(n.jsx)(me.a,{height:y,offsetTop:y*a,className:a%2?"odd":"even",children:Object(n.jsxs)(ge.a,{button:!0,onClick:k,"data-person-id":r,selected:x===a&&!(null===v||void 0===v?void 0:v.includes(r)),disabled:null===v||void 0===v?void 0:v.includes(r),children:[c," ",o]})},"lazyload-".concat(t,"-").concat(r))}))})]})},Oe=function(e){var t=e.addPlayer,a=e.teamId,c=e.roster,o=e.selectedYear,s=Object(r.useState)(!1),l=Object(i.a)(s,2),d=l[0],u=l[1],p=de(),b=Object(n.jsx)(xe,{teamId:a,roster:c,addPlayer:t,selectedYear:o},"player-select-".concat(a));return Object(n.jsxs)(ne.a,{className:"undrafted-row",children:[Object(n.jsx)(X.a,{onClickAway:function(e){u(!1)},children:Object(n.jsx)(re.a,{className:"button-cell",children:Object(n.jsx)($.a,{title:b,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:d,interactive:!0,classes:p,children:Object(n.jsx)(B.a,{size:"small",onClick:function(e){null===e||void 0===e||e.stopPropagation(),u(!0)},children:Object(n.jsx)(pe.a,{})})})})}),Object(n.jsx)(re.a,{className:"headshot-cell no-stats",children:Object(n.jsx)(je.a,{className:"mock-player-icon"})}),Object(n.jsx)(re.a,{className:"name-cell no-stats",children:"Undrafted"})]})},ve=a(156),we=a.n(ve),ye=Object(oe.a)({root:{"& td":{lineHeight:"32px"},"& .stat-label":{textTransform:"uppercase",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",paddingLeft:6,width:"calc(100% - 50px - 12px)"},"& .stat-value":{width:50,paddingRight:6,textAlign:"right"},"& .best":{backgroundColor:function(e){return e.color},color:"white"}}}),ke=Object(oe.a)({popper:Object(p.a)({},ie(".MuiTooltip-tooltip")),tooltip:{paddingTop:0,overflowY:"scroll",color:"#000",maxHeight:"50vh",backgroundColor:"white",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)","& .player-label":{position:"sticky",top:0,backgroundColor:"white",padding:"2px 0px"},"& p":{margin:"6px 0px",fontSize:14},"& tr:nth-child(odd)":{backgroundColor:"#FAFAFA"},"& tr:nth-child(even)":{backgroundColor:"#F0F0F0"},"& td":{border:"none",textTransform:"uppercase"},"& .stat-value":{textAlign:"right"}}}),Ce=Object(oe.a)({root:{maxWidth:"calc(100% - 24px)",margin:"0px 6px 6px !important",paddingTop:6,paddingRight:6,paddingBottom:6,paddingLeft:6,minWidth:"fit-content"}}),Se=Object(oe.a)({root:{minHeight:"fit-content !important",padding:"0px","& :hover":{cursor:"default"}},content:{justifyContent:"flex-end",margin:"0px !important","& .MuiTextField-root":{width:140},"& input[type=text]":{padding:"2px 6px"},"& .teamLabelContainer":{flexGrow:2,display:"flex"},"& span":{lineHeight:"28px"},"& span.roster-size":{textAlign:"center",width:28},"& span.label":{cursor:"text"},"& button":{padding:0}},focused:{backgroundColor:"unset !important"}}),Le=Object(oe.a)({root:{flexDirection:"column",padding:"6px 0px 0px 0px"}}),Fe=Object(oe.a)({root:Object(p.a)({flexWrap:"nowrap",alignItems:"stretch","& tr:nth-child(odd)":{backgroundColor:"#FAFAFA"},"& tr:nth-child(even)":{backgroundColor:"#F0F0F0"}},ie(".MuiTableContainer-root"))}),Te=Object(oe.a)({root:{height:"calc(22.5vh - 6px - 6px - 24px - 6px - 6px - 4px) !important",width:"60%",overflowY:"scroll",overflowX:"hidden","& table":{width:"100%"},"& tbody":{width:"100%"},"& tr":{width:"100%"},"& td":{height:28,display:"inline-block",border:"none",paddingBottom:1}}}),Ne=function(e){var t=e.id,a=e.roster,o=e.removePlayer,s=e.addPlayer,l=Object(r.useContext)(E).selectedYear,d=Object(r.useContext)(z).league.teamList.find((function(e){return e.id===t})),u=c.a.useState(null),p=Object(i.a)(u,2),b=p[0],j=p[1],f=function(e){e.stopPropagation(),j(null)},g=function(e){e.stopPropagation();var t=e.currentTarget.dataset.index;j(parseInt(t))},h=Te(),m=le({teamColor:d.color}),x=ke();Object(r.useEffect)((function(){document.querySelectorAll(".roster-table-".concat(t," .name-cell div")).forEach((function(e){if(e.scrollWidth>e.clientWidth){var t=e.innerHTML.split(" ");t[0]="".concat(t[0][0],". "),e.innerHTML=t.join("").toString()}}))}),[a.length]);var O=function(){for(var e=[];a.length+e.length<15;)e.push(Object(n.jsx)(Oe,{teamId:t,roster:a,addPlayer:s,selectedYear:l},"undrafted-table-row-".concat(e.length)));return Object(n.jsx)(n.Fragment,{children:e})};return Object(n.jsx)(ee.a,{classes:h,children:Object(n.jsx)(te.a,{padding:"none",size:"small",classes:m,className:"roster-table-".concat(t),children:Object(n.jsxs)(ae.a,{children:[a.map((function(e,a){var r=e.personId,c=e.firstName,s=e.lastName,d=L(e,l),u=Object.entries(d);return Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{className:"button-cell",children:Object(n.jsx)(B.a,{onClick:function(){return o(r)},size:"small",children:Object(n.jsx)(we.a,{})})}),Object(n.jsx)(re.a,{className:"headshot-cell ".concat(d.min>0?"":"no-stats"),children:Object(n.jsx)(ce.a,{src:"https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/260x190/".concat(r,".png"),className:"headshot"})}),Object(n.jsx)(re.a,{className:"name-cell ".concat(d.min>0?"":"no-stats"),children:Object(n.jsx)(X.a,{onClickAway:f,children:Object(n.jsx)($.a,{title:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"player-label",children:[Object(n.jsxs)("p",{children:[c," ",s]}),Object(n.jsxs)("p",{children:[l,"-",l+1]}),Object(n.jsx)("p",{children:"Regular Season"})]}),Object(n.jsx)(te.a,{padding:"none",size:"small",children:Object(n.jsx)(ae.a,{children:u.map((function(e){var a=Object(i.a)(e,2),r=a[0],c=a[1];return Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{children:r}),Object(n.jsx)(re.a,{className:"stat-value",children:c.toFixed(1)})]},"total-stats-row-".concat(t,"-").concat(r))}))})})]}),arrow:!0,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:b===a,interactive:!0,classes:x,children:Object(n.jsxs)("div",{onClick:g,"data-index":a,children:[c," ",s]})})})})]},"roster-table-row-".concat(t,"-").concat(r))})),Object(n.jsx)(O,{})]})})})},Pe=function(e){var t=e.teamId,a=e.stats,c=e.color,o=Object(r.useContext)(z).league.stats,s=Object(r.useContext)(E).selectedStats,l=Object.entries(a).filter((function(e){var t=Object(i.a)(e,1)[0];return s[t]})),d=Te({width:"40%"}),u=ye({color:c});return Object(n.jsx)(ee.a,{classes:d,children:Object(n.jsx)(te.a,{padding:"none",size:"small",classes:u,children:Object(n.jsx)(ae.a,{children:l.map((function(e){var a=Object(i.a)(e,2),r=a[0],c=a[1];return Object(n.jsxs)(ne.a,{children:[v[r]?Object(n.jsx)($.a,{title:v[r],placement:"top",children:Object(n.jsx)(re.a,{className:"stat-label",children:r})}):Object(n.jsx)(re.a,{className:"stat-label",children:r}),Object(n.jsxs)(re.a,{className:"stat-value",children:[I(c,r,o)&&Object(n.jsx)("span",{children:"\u2605"}),Object(n.jsx)("span",{style:{verticalAlign:"middle"},children:null===c||void 0===c?void 0:c.toFixed(1)})]})]},"total-stats-row-".concat(t,"-").concat(r))}))})})})},Me=a(157),Ie=a.n(Me),Ae=a(158),Ye=a.n(Ae),ze=a(159),Re=a.n(ze),Ee=a(160),We=a.n(Ee),He=function(e){var t,a=e.id,c=Object(r.useState)(!0),o=Object(i.a)(c,2),s=o[0],l=o[1],d=Object(r.useContext)(E),p=d.selectedYear,b=d.selectedStats,g=d.statMultipliers,h=Object(r.useContext)(z),m=h.removeTeam,x=h.updateTeam,O=h.league,v=O.teamList,w=(O.stats,v.find((function(e){return e.id===a}))),y=Ce(),k=Se(),C=Le(),L=Fe();Object(r.useEffect)((function(){w.roster.forEach((function(e){e.stats.regularSeason.season.map((function(e){T(e.total,g)}))})),w.stats=F(w.roster,p),T(w.stats,g),x(w)}),[].concat(Object(u.a)(Object.values(b)),Object(u.a)(Object.values(g)),[p]));var N=function(){var e=Object(f.a)(j.a.mark((function e(t,a){var n,r,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.find((function(e){return e.personId===t})),r=n.firstName,c=n.lastName,e.next=3,S(t);case 3:o=e.sent.stats,(s=A(o)).latest=Y(s.latest),s.regularSeason.season=s.regularSeason.season.map((function(e){return e.total=Y(e.total),T(e.total,g),e})),i={personId:t,firstName:r,lastName:c,stats:s},console.log(i),w.roster.push(i),w.stats=F(w.roster,p),x(w);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)(V.a,{classes:y,expanded:s,children:[Object(n.jsxs)(q.a,{classes:k,children:[Object(n.jsx)(Z,{id:a}),Object(n.jsx)(B.a,{onClick:function(){l(!s)},size:"small",children:s?Object(n.jsx)(Ie.a,{}):Object(n.jsx)(Ye.a,{})}),Object(n.jsx)(B.a,{onClick:function(){alert("This feature is yet to be constructed!")},size:"small",children:Object(n.jsx)(Re.a,{})}),Object(n.jsx)(B.a,{onClick:function(){m(a)},size:"small",children:Object(n.jsx)(We.a,{})})]}),Object(n.jsx)(K.a,{classes:C,children:Object(n.jsxs)(H.a,{container:!0,direction:"row",classes:L,children:[Object(n.jsx)(Ne,{id:a,roster:w.roster,addPlayer:N,removePlayer:function(e){w.roster=w.roster.filter((function(t){return t.personId!==e})),w.stats=F(w.roster,p),x(w)}}),Object(n.jsx)(Pe,{teamId:a,stats:w.stats,color:null!==(t=w.color)&&void 0!==t?t:"lightgray"})]})})]})})},Be=function(){var e=Object(r.useContext)(z).league.teamList,t=Object(r.useContext)(l).setAllPlayers,a=Object(r.useContext)(E).selectedYear;return Object(r.useEffect)((function(){Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,C(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[a]),Object(n.jsx)(n.Fragment,{children:e.map((function(e){return Object(r.createElement)(He,Object(p.a)(Object(p.a)({},e),{},{key:e.id}))}))})},De=Object(oe.a)({root:Object(p.a)(Object(p.a)(Object(p.a)({cursor:"default",backgroundColor:"lightgray"},ie(".sidebar-scrollbar",8)),ie(".visualizations-container",8)),{},{"& .top-bar":{height:"10vh",padding:6},"& h1":{color:y,margin:"0px 12px 0px 0px"}})}),Je=a(161),Ge=a.n(Je),Ve=a(380),qe=a(386),Ke=function(){var e=Object(r.useContext)(E),t=e.selectedStats,a=e.setSelectedStats,c=[];for(var o in t)c.push({category:o,show:t[o]});var s=function(e){var n=e.currentTarget.dataset.value;t[n]=!t[n],a(Object(p.a)({},t))};return Object(n.jsx)(fe.a,{dense:!0,children:c.map((function(e){var t=e.category,a=e.show;return Object(n.jsxs)(ge.a,{button:!0,"data-value":t,onClick:s,disableGutters:!0,children:[Object(n.jsx)(Ve.a,{primary:t,style:{textTransform:"uppercase"}}),Object(n.jsx)(qe.a,{checked:a})]},"setting-".concat(t))}))})},Ue=Object(oe.a)({popper:Object(p.a)({},ie(".MuiTooltip-tooltip")),tooltip:{overflowY:"scroll",color:"#000",maxHeight:"50vh",backgroundColor:"white",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"}}),Xe=function(){var e=Ue(),t=c.a.useState(!1),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.jsx)(X.a,{onClickAway:function(){o(!1)},children:Object(n.jsx)("div",{children:Object(n.jsx)($.a,{title:Object(n.jsx)(Ke,{}),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:r,interactive:!0,classes:e,arrow:!0,children:Object(n.jsx)(B.a,{onClick:function(){o(!0)},children:Object(n.jsx)(Ge.a,{style:{color:"#666666"}})})})})})},$e=a(162),_e=a.n($e),Qe=a(381),Ze=a(382),et=function(){var e=Object(r.useContext)(E),t=e.statMultipliers,a=e.setStatMultipliers,c=[];for(var o in t)c.push({category:o,multiplier:t[o]});var s=function(e){var n,r=e.currentTarget.dataset.category,c=parseFloat(null!==(n=e.currentTarget.value)&&void 0!==n?n:"0"),o=Object(p.a)({},t);o[r]=c,a(o)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(Qe.a,{variant:"contained",size:"small",color:"primary",onClick:function(){a(O)},children:"Reset Defaults"}),Object(n.jsx)(fe.a,{dense:!0,children:c.map((function(e){var t=e.category,a=e.multiplier;return Object(n.jsxs)(ge.a,{disableGutters:!0,children:[Object(n.jsx)(Ve.a,{primary:t,style:{textTransform:"uppercase"}}),Object(n.jsx)(U.a,{onChange:s,size:"small",variant:"outlined",type:"number",InputProps:{startAdornment:Object(n.jsx)(Ze.a,{position:"start",children:"\xd7"})},inputProps:{"data-category":t},value:a,style:{width:100,marginLeft:6}})]},"setting-".concat(t))}))})]})},tt=function(){var e=Ue(),t=c.a.useState(!1),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.jsx)(X.a,{onClickAway:function(){o(!1)},children:Object(n.jsx)("div",{children:Object(n.jsx)($.a,{title:Object(n.jsx)(et,{}),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:r,interactive:!0,classes:e,arrow:!0,children:Object(n.jsx)(B.a,{onClick:function(){o(!0)},children:Object(n.jsx)(_e.a,{style:{color:"#666666"}})})})})})},at=a(383),nt=a(53),rt=Object(oe.a)({root:{height:"calc(22.5vh - ".concat(12,"px - ").concat(6,"px)"),width:"calc(100% - ".concat(12,"px - ").concat(12,"px)"),marginTop:0,marginRight:6,marginBottom:6,marginLeft:6,padding:6,display:"flex",flexDirection:"column",alignItems:"center","& p":{textTransform:"uppercase",margin:0},"& svg":{overflow:"visible",marginBottom:20,backgroundColor:"#dddddd"},"& rect":{outline:"1px solid #dddddd"},"& rect:nth-child(odd)":{},"& rect:nth-child(even)":{},"& rect:hover":{opacity:1},"& .player-name-label":{fill:"#fff"},"& svg div":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"right",height:"100%",padding:"0px 6px"}}}),ct=function(e){var t=e.statCategory,a=Object(r.useContext)(z).league,c=a.teamList,o=a.stats,s=Object(r.useContext)(E).selectedYear,i=rt(),l=o.max[t];return Object(r.useEffect)((function(){var e=document.querySelector(".bar-chart-container"),a=e.clientHeight-52,n=e.clientWidth-160,r=a/c.length,o=nt.c().domain([0,l||100]).range([0,n]),i=nt.a(o).tickSizeOuter(0),d=nt.d().domain(c.map((function(e){var t;return null!==(t=e.name)&&void 0!==t?t:"Team ".concat(e.id)}))).range([0,a]).padding(.5),u=nt.b(d).tickSizeInner(3).tickSizeOuter(0),p=c.map((function(e){var a=e.roster.map((function(e){var a,n=L(e,s);return o(null!==(a=n[t])&&void 0!==a?a:0)})),n=e.roster.map((function(n,r){var c;return{personId:n.personId,firstName:n.firstName,lastName:n.lastName,statValue:null!==(c=L(n,s)[t])&&void 0!==c?c:0,xPos:0===r?0:a.reduce((function(e,t,a){return a<r?e+t:e})),barWidth:a[r],color:e.color}})).filter((function(e){return e.barWidth>0}));return{id:e.id,name:e.name,teamTotal:e.stats[t],individualBars:n}})),b=nt.e(".bar-chart-container.".concat(t," svg")).attr("width",n).attr("height",a);return b.selectAll(".bar-chart-container.".concat(t)).data(p).enter().append("g").attr("transform",(function(e,t){return"translate(0, ".concat(r*t,")")})).attr("data-team-id",(function(e){return e.id})).append("g").selectAll("g").data((function(e){return e.individualBars})).enter().append("rect").attr("x",(function(e){return e.xPos})).attr("width",(function(e){return e.barWidth})).attr("height",r-2).attr("fill",(function(e){var t;return null!==(t=e.color)&&void 0!==t?t:"gray"})),b.selectAll("[data-team-id]").append("text").text((function(e){return e.teamTotal?e.teamTotal.toFixed(1):""})).attr("x",(function(e){return o(e.teamTotal)+6})).attr("y",r/2).attr("alignment-baseline","middle"),b.selectAll("[data-team-id]").append("g").selectAll("g").data((function(e){return e.individualBars})).enter().append("text").text((function(e){return e.statValue?"".concat(e.firstName[0],". ").concat(e.lastName," ").concat(e.statValue.toFixed(1)):""})).attr("x",(function(e){return e.xPos+e.barWidth/2})).attr("y",r/2).attr("text-anchor","middle").attr("alignment-baseline","middle").classed("player-name-label",!0),b.append("g").attr("transform","translate(0, ".concat(a,")")).call(i),b.append("g").call(u),function(){b.html(null)}})),Object(n.jsxs)(at.a,{classes:i,className:"bar-chart-container ".concat(t),children:[Object(n.jsxs)("p",{children:[t," ",v[t]?"(".concat(v[t],")"):""]}),Object(n.jsx)("svg",{})]})},ot=function(){var e=Object(r.useContext)(E).selectedStats,t=Object.keys(e).filter((function(t){return e[t]}));return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return"scl"!==e&&Object(n.jsx)(ct,{statCategory:e},"bar-chart-".concat(e))}))})},st=a(384),it=a(366),lt=a(391),dt=a(385),ut=Object(oe.a)({root:{backgroundColor:"white",borderRadius:4,"& .MuiFormLabel-root.Mui-focused":{color:w},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:w}}}),pt=function(){var e=Object(r.useContext)(E),t=e.selectedYear,a=e.setSelectedYear,c=ut(),o=function(){var e=Object(f.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=t;case 2:if(r&&!r.ok){e.next=10;break}return e.next=5,fetch("https://data.nba.net/prod/v1/".concat(n,"/players.json"));case 5:(r=e.sent).ok&&a.push(n),n--,e.next=2;break;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=Object(r.useState)([]),l=Object(i.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){0===d.length&&Object(f.a)(j.a.mark((function e(){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:a=e.sent,r=a.map((function(e){return Object(n.jsxs)(st.a,{value:e,children:[e," - ",e+1]})})),u(r);case 5:case"end":return e.stop()}}),e)})))()}),[t]),Object(n.jsxs)(it.a,{variant:"outlined",classes:c,children:[Object(n.jsx)(lt.a,{children:"Season"}),Object(n.jsx)(dt.a,{value:d.length?t:"loading",onChange:function(e){var t=e.target.value;a(t)},autoWidth:!0,children:d.length?d:Object(n.jsx)(st.a,{value:"loading",children:"Loading..."})})]})};var bt=function(){var e=De(),t={width:6};return Object(n.jsx)(d,{children:Object(n.jsx)(R,{children:Object(n.jsx)(W,{children:Object(n.jsxs)(H.a,{container:!0,direction:"column",classes:e,children:[Object(n.jsx)(H.a,{item:!0,md:12,children:Object(n.jsxs)(H.a,{container:!0,direction:"row",className:"top-bar",alignItems:"center",justify:"space-between",children:[Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[Object(n.jsx)(G,{}),Object(n.jsx)("span",{style:t}),Object(n.jsx)(Xe,{}),Object(n.jsx)("span",{style:t}),Object(n.jsx)(tt,{}),Object(n.jsx)("span",{style:t}),Object(n.jsx)(pt,{})]}),Object(n.jsx)("h1",{children:"LeagueMaps.com"})]})}),Object(n.jsx)(H.a,{item:!0,md:12,children:Object(n.jsxs)(H.a,{container:!0,direction:"row",children:[Object(n.jsx)(H.a,{item:!0,md:3,style:{height:"90vh",overflowY:"scroll"},className:"sidebar-scrollbar scrollbar-padding-top",children:Object(n.jsx)(H.a,{container:!0,direction:"column",children:Object(n.jsx)(Be,{})})}),Object(n.jsx)(H.a,{item:!0,md:9,style:{height:"90vh",overflowY:"scroll"},className:"visualizations-container scrollbar-padding-top",children:Object(n.jsx)(H.a,{container:!0,direction:"column",children:Object(n.jsx)(ot,{})})})]})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(bt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[326,1,2]]]);
//# sourceMappingURL=main.1287d828.chunk.js.map